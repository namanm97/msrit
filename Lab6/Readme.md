Lab: IS545L
===========

 

Lab Exercise: Introduction to JavaScript(JS) - Dynamically loading JSON data
----------------------------------------------------------------------------

 

### Problem Statement

Implement a simple HTML+JS application that has a JSON Array with details of
different kinds of vehicles E.g., Seating Capacity, Fuel Capacity, Mileage,
Model Number, etc. Display details of each vehicle dynamically by only showing
details of the vehicle that the user has selected (via mouse-over). The page
should consist of a table with 2 columns - 1 column for labels and 1 column for
actual details. There must be a list of different vehicle names on the top. When
the user hovers the mouse over any vehicle, the corresponding vehicle's details
must be dynamically populated in the table.


### Readings

*   [Document Object Model (DOM)](https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction)

### Getting Started

 

Create a directory for the project, then create a file called cars.js

 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
$ touch cars.js
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

 

In javascript, we can store data using the Javascript Object Notation (JSON). In
this project we will store details of cars in a JSON array (an array of JSON
objects). This is typically how you might receive data from an API for getting
details of cars. You can read about JSON syntax at
[w3schools.com](<https://www.w3schools.com/js/js_json_syntax.asp>). In our case
we would like to have the HTML page be constructed by using data from the JSON
array of car data. Here's the syntax for storing some information about cars using
a JSON array:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  var teslaModels = [
        {
            "model": "modelS",
            "name": "Model S",
            "price": 69200,
            "year": 2016
        },
        {
            "model": "modelX",
            "name": "Model X",
            "price": 83700,
            "year": 2017
        },
        {
            "model": "model3",
            "name": "Model 3",
            "price": 35000,
            "year": 2017
        },
    ];
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

 
From this array, the HTML Dom can be auto generated by iterating through the array, and injecting
HTML elements accordingly.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    //Generate HTML for Menu Bar
    teslaModels.forEach(function(item,index){
        listElemet = document.createElement("th")
        listElemet.id = item.model
        listElemet.innerHTML = item.name
        document.getElementById("menu").appendChild(listElemet)
    })
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The above JS snippet adds menu items to a table for each type of tesla model. The assumtion
is that the main HTML file contains a blank table element with a `<tr>` tag having the ID `menu`:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    <table>
        <tr id="menu">
        </tr>
    </table>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

### Exercise

Create an index.html file, which imports the cars.js script in the head tag.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="cars.js"></script>
</head>
<body>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Add a table element with a tr tag for the menu as shown in the code snippet above.
Additionally create a second table element that would be used to display data about a car model
when the user hovers their mouse over a given menu item. The data table will then be populated to
show the respective model's specifications (name, year, price, and a picture).
Complete the javascrip definitions to enable a user to hover over a menu item to get more details
(See hints for help with code)

For pictures, you can store the images of tesla models (via Google images or the like) with file
names being same as the model name. For example if the model is `modelX`, save the image for that
model as `modelX.jpg` or similar. The images can then be injected into your table through code.

### Additional Exercise

Change the data source for the project to be something other than cars, perhaps somethign that
gets data from a public API. See the listing of Public APIs
[here](https://github.com/toddmotto/public-apis) for various topics that you could
use for inspiration. For now you could query data from an API manually and save your results as a .json file you could import into your js code like so:

Consider a file such as data.json:
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
data = '[{"name" : "Steve", "age" : "20"},{"name" : "Jobs", "age" : "20"}]';

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Assuming that your javascript file is in the same directory such as people.js,
and your index.html file is also in the same directory, import the json file and the javascript
into your index.html like so:
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
<script type="text/javascript" src="data.json"></script>
<script type="text/javascript" src="people.js"></script>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

And finally in your people.js file, parse the imported data like so:
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
var people = JSON.parse(data);

// You can see the parsed data via logs such as:
console.log(people[0].name);
console.log(people[1].name);
// To view logs, open the index.html file in your browser, and open the console
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

### Hints

* Directory structure for the project can be similar to:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    .
    ├── cars.js
    ├── img
    │   ├── model3.png
    │   ├── modelS.png
    │   └── modelx.png
    └── index.html
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* To iterate over the JSON array:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

teslaModels.forEach(function(item,index)
{
    // Do something with item and index
}

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* To handle mouse over events:
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
var elem = document.getElementById("insert_elment_id_here");
elem.onmouseover = function(){
    //actions to perform when mouse over occurs
}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* To set the image of an `img` tag programatically:
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
document.getElementById("id_of_img_element").innerHTML = '<img src="img/modelx.png"/>';
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Note that the `innerHTML` attribute for any DOM element gives you access to the HTML that gets
rendered for that element.


